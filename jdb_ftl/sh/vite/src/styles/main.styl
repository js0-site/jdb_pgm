// CSS Variables
:root
  --bg: #fff
  --fg: #1a1a1a
  --code-bg: #f8f9fa
  --border: #e1e4e8
  --accent: #0969da

// Base styles
*
  box-sizing: border-box
  margin: 0
  padding: 0

body
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif
  line-height: 1.7
  font-size: 11.5pt
  color: var(--fg)
  background: var(--bg)
  max-width: 900px
  margin: 0 auto
  padding: 2cm

p
  margin: 1em 0

// Headings
h1, h2, h3, h4, h5, h6
  margin: 1.8em 0 0.8em
  font-weight: 700
  page-break-after: avoid
  color: #000
  line-height: 1.3

h1
  font-size: 2.8em
  margin-top: 0
  padding-bottom: 0.3em

h2
  font-size: 2.1em
  padding-bottom: 0.2em

h3
  font-size: 1.7em

h4
  font-size: 1.5em

h5
  font-size: 1.3em

h6
  font-size: 1.2em

// Code
code
  background: var(--code-bg)
  padding: 0.2em 0.4em
  border-radius: 0
  font-size: 0.9em
  color: #24292f
  font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace

pre
  background: var(--code-bg)
  color: #24292f
  padding: 1.2em
  border-radius: 0
  border: 1px solid var(--border)
  overflow-x: auto
  margin: 1.5em 0
  page-break-inside: avoid
  font-size: 0.9em
  line-height: 1.5

  code
    background: none
    padding: 0
    color: inherit
    font-size: inherit

// KaTeX
.katex-mathml
  display: none !important

.katex
  font-size: 1.1em

// Tables
table
  border-collapse: collapse
  width: 100%
  margin: 1.5em 0
  font-size: 0.95em
  page-break-inside: avoid

th, td
  border: 1px solid var(--border)
  padding: 0.6em 0.8em
  text-align: left

th
  background: #fafafa
  font-weight: 600

// Blockquotes
blockquote
  margin: 1.5em 0
  padding: 0.8em 1.2em
  border-left: 4px solid var(--accent)
  background: #fafafa
  color: #333
  border-radius: 0

// Markdown Alerts
.markdown-alert
  border-left: 6px double rgba(0,0,0,0.1) !important
  padding: 1.2em 1.5em
  border-radius: 0
  margin: 1.5em 0
  color: #1a1a1a
  box-shadow: 0 4px 12px rgba(0,0,0,0.03)

  &::before
    display: inline-block
    width: 1.4em
    height: 1.4em
    margin-right: 0.6em
    vertical-align: -0.25em
    content: ""
    background-repeat: no-repeat
    background-size: contain

// Note & Tip
.markdown-alert-note::before,
.markdown-alert-tip::before
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2367c23a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M9 18h6'/%3E%3Cpath d='M10 22h4'/%3E%3Cpath d='M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7z'/%3E%3C/svg%3E")

.markdown-alert-note
  background-color: #f0f9eb
  border-left-color: #67c23a !important

.markdown-alert-tip
  background-color: #f0fdf4
  border-left-color: #22c55e !important

// Important
.markdown-alert-important::before
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23db2777' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 8v4'/%3E%3Cpath d='M12 16h.01'/%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3C/svg%3E")

.markdown-alert-important
  background-color: #fdf2f8
  border-left-color: #db2777 !important

// Warning
.markdown-alert-warning::before
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23d97706' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z'/%3E%3Cpath d='M12 9v4'/%3E%3Cpath d='M12 17h.01'/%3E%3C/svg%3E")

.markdown-alert-warning
  background-color: #fffbeb
  border-left-color: #d97706 !important

// Caution
.markdown-alert-caution::before
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23dc2626' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M10 10l4 4m0-4l-4 4'/%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3C/svg%3E")

.markdown-alert-caution
  background-color: #fef2f2
  border-left-color: #dc2626 !important

// Links
a
  color: var(--accent)
  text-decoration: none

  &:hover
    text-decoration: underline

// Horizontal rule
hr
  border: none
  border-top: 1px solid var(--border)
  margin: 2em 0

// Lists
ul, ol
  padding-left: 1.5em
  margin: 1em 0

li
  margin: 0.4em 0

// SVG
svg
  margin: auto
  display: inline-block

// Mermaid
pre.mermaid
  background: transparent
  border: none
  text-align: center
  display: flex
  justify-content: center

// Print styles
@media print
  body
    padding: 0

  h1, h2
    page-break-after: avoid

  pre, blockquote, table
    page-break-inside: avoid